<style>
    .dealer-cta-section {
        padding: 90px 0;
        position: relative;
        overflow: hidden;
    }

    /* Top accent line animation */
    .dealer-cta-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 3px;
        background: linear-gradient(90deg, transparent, var(--mce-dark-red), var(--mce-sepia-tan));
        animation: slideAccentDealer 1.5s ease-out forwards;
    }

    @keyframes slideAccentDealer {
        to {
            left: 0;
        }
    }

    .dealer-cta-container {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        gap: 100px;
        padding: 0 5%;
        align-items: flex-start;
    }

    /* Left side - Heading only */
    .dealer-cta-left {
        flex: 0 0 auto;
        max-width: 450px;
        opacity: 0;
        transform: translateX(-50px);
        animation: slideInDealerLeft 1s ease-out 0.3s forwards;
    }

    @keyframes slideInDealerLeft {
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    .dealer-cta-left h2 {
        font-family: 'Michroma', sans-serif;
        font-size: clamp(2.25rem, 4vw, 3.5rem);
        color: var(--mce-dark-red);
        line-height: 1.2;
        letter-spacing: 0.02em;
    }

    .dealer-cta-left h2 .tan-text {
        color: var(--mce-sepia-tan);
    }

    /* Right side - Text and CTA */
    .dealer-cta-right {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: left;
        gap: 40px;
        opacity: 0;
        transform: translateX(50px);
        animation: slideInDealerRight 1s ease-out 0.5s forwards;
    }

    @keyframes slideInDealerRight {
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    .dealer-cta-right p {
        font-family: 'Outfit', sans-serif;
        font-weight: 300;
        font-size: clamp(1.05rem, 1.9vw, 1.2rem);
        color: #444444;
        line-height: 1.8;
        margin-bottom: 28px;
    }

    .dealer-cta-right p:last-of-type {
        margin-bottom: 0;
    }

    /* CTA Button Container */
    .dealer-cta-button-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
        /* Using rem instead of px */
        padding-top: 0.625rem;
    }

    /* Already a dealer text */
    .dealer-signin-text {
        font-family: 'Outfit', sans-serif;
        font-weight: 400;
        font-size: 1rem;
        color: #666666;
        opacity: 0;
        animation: fadeInDealer 0.8s ease-out 0.8s forwards;
        margin: 0;
        /* Remove default paragraph margin - this is the key! */
        padding-top: 1rem;
        /* Add space here instead */
    }

    @keyframes fadeInDealer {
        to {
            opacity: 1;
        }
    }

    .dealer-signin-text a {
        color: var(--mce-dark-red);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s ease;
    }

    .dealer-signin-text a:hover {
        color: var(--mce-sepia-tan);
        text-decoration: underline;
    }

    .dealer-apply-button {
        position: relative;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 14px;
        padding: 24px 55px;
        background: linear-gradient(135deg, var(--mce-dark-red) 0%, #a00406 100%);
        color: #ffffff;
        font-family: 'Outfit', sans-serif;
        font-weight: 600;
        font-size: 1.15rem;
        text-align: center;
        text-decoration: none;
        border-radius: 50px;
        border: none;
        overflow: hidden;
        box-shadow: 0 12px 35px rgba(129, 3, 5, 0.3);
        transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        cursor: pointer;
    }

    /* Animated gradient overlay */
    .dealer-apply-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        transition: left 0.7s ease;
        border-radius: 50px;
    }

    /* Glow effect */
    .dealer-apply-button::after {
        content: '';
        position: absolute;
        top: 50%;
        left: -20%;
        transform: translateY(-50%);
        width: 80%;
        height: 160%;
        border-radius: 50px;
        background: radial-gradient(ellipse, var(--mce-sepia-tan), transparent 70%);
        z-index: -1;
        opacity: 0.8;
        transition: left 0.7s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.7s ease;
        filter: blur(20px);
    }

    .dealer-apply-button:hover::before {
        left: 100%;
    }

    .dealer-apply-button:hover::after {
        left: 120%;
        opacity: 0;
    }

    .dealer-apply-button:hover {
        transform: translateY(-5px) scale(1.03);
        box-shadow: 0 18px 50px rgba(129, 3, 5, 0.45);
    }

    .dealer-apply-button:active {
        transform: translateY(-2px) scale(1);
        box-shadow: 0 10px 30px rgba(129, 3, 5, 0.35);
    }

    .dealer-button-arrow {
        display: inline-block;
        transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        font-size: 1.3em;
    }

    .dealer-apply-button:hover .dealer-button-arrow {
        transform: translateY(3px);
    }

    /* Responsive design */
    @media (max-width: 1024px) {
        .dealer-cta-container {
            flex-direction: column;
            gap: 50px;
            padding: 0 8%;
        }

        .dealer-cta-left {
            max-width: 100%;
            text-align: center;
        }

        .dealer-cta-right {
            max-width: 100%;
        }

        .dealer-cta-button-wrapper {
            align-items: center;
        }
    }

    @media (max-width: 768px) {
        .dealer-cta-section {
            padding: 90px 0;
        }

        .dealer-cta-container {
            gap: 40px;
        }

        .dealer-apply-button {
            padding: 22px 48px;
            font-size: 1.05rem;
        }
    }

    @media (max-width: 480px) {
        .dealer-cta-section {
            padding: 70px 0;
        }

        .dealer-cta-left h2 {
            font-size: 2rem;
        }

        .dealer-cta-right p {
            font-size: 1rem;
        }

        .dealer-apply-button {
            padding: 20px 42px;
            font-size: 1rem;
            width: 100%;
        }

        .dealer-cta-button-wrapper {
            width: 100%;
            align-items: center;
        }

        .dealer-signin-text {
            text-align: center;
        }
    }
</style>

<div class="dealer-cta-section">
    <div class="dealer-cta-container">

        <div class="dealer-cta-left">
            <h2>Partner With <span class="tan-text">Excellence</span></h2>
        </div>


        <div class="dealer-cta-right">
            <div>
                <p>
                    Join a network of premier dealers who represent the gold standard in automotive technology.
                    As a Mid City Engineering dealer, you'll offer your customers cutting-edge solutions backed
                    by 20+ years of engineering excellence.
                </p>
                <p>
                    We provide comprehensive support, competitive margins, and access to products that set you
                    apart from the competition.
                </p>
            </div>

            <div class="dealer-cta-button-wrapper">
                <a href="#dealer-application" class="dealer-apply-button">
                    Apply to be a dealer now
                    <span class="dealer-button-arrow">â†“</span>
                </a>
                <p class="dealer-signin-text" id="dealerSigninText">

                </p>
            </div>
        </div>
    </div>
</div>

<script>
    // Trigger animations when section comes into view
    (function () {
        const dealerSection = document.querySelector('.dealer-cta-section');

        if (dealerSection) {
            // Initially pause animations
            const dealerLeft = dealerSection.querySelector('.dealer-cta-left');
            const dealerRight = dealerSection.querySelector('.dealer-cta-right');

            if (dealerLeft) dealerLeft.style.animationPlayState = 'paused';
            if (dealerRight) dealerRight.style.animationPlayState = 'paused';

            // Create intersection observer
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Start all animations
                        const dealerLeft = entry.target.querySelector('.dealer-cta-left');
                        const dealerRight = entry.target.querySelector('.dealer-cta-right');

                        if (dealerLeft) dealerLeft.style.animationPlayState = 'running';
                        if (dealerRight) dealerRight.style.animationPlayState = 'running';

                        // Stop observing after first trigger
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.25
            });

            observer.observe(dealerSection);
        }
    })();

    // Check authentication and update dealer signin text
    (function () {
        const signinText = document.getElementById('dealerSigninText');

        if (!signinText) return;

        // Check Odoo session
        fetch('/web/session/get_session_info', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            credentials: 'include',
            body: '{}'
        })
            .then(response => response.json())
            .then(data => {
                const uid = data.result?.uid;
                const isAuthenticated = uid && uid !== false;

                if (isAuthenticated) {
                    // User is signed in - show "View your account"
                    signinText.innerHTML = 'Already a dealer? <a href="/my/home">View your account</a>';
                } else {
                    // User is not signed in - show "Sign in to your account"
                    signinText.innerHTML = 'Already a dealer? <a href="/web/login">Sign in to your account</a>';
                }
            })
            .catch(error => {
                console.error('[Dealer CTA] Auth check failed:', error);
                // Fallback to sign in link
                signinText.innerHTML = 'Already a dealer? <a href="/web/login">Sign in to your account</a>';
            });
    })();
</script>
