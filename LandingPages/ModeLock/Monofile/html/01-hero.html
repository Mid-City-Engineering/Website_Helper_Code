<!--
==================================================
WIDGET: HERO SECTION
==================================================

CSS Used:
- sections/hero.css

JS Used:
- parallax.js (hero parallax effect)
- smooth-scroll.js (smooth anchor scrolling)
- fade-out-on-scroll.js (fade out taglinh on scroll down)
-->

<!-- Section-specific CSS -->
<style>
    /* Paste hero.css content here */
    .hero-section {
        height: 100vh !important;
        min-height: 100vh !important;
        width: 100vw;
        background: url('https://mid-city-engineering.odoo.com/web/image/9107-a094017f/modelock-hero-background.webp') center/cover no-repeat;
        overflow: hidden;
        gap: 0;
    }

    /* Overlay for the background image */
    .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.2);
        /* background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.2) 50%, rgba(0, 0, 0, 0.2) 70%, rgba(0, 0, 0, 0.6) 100%); */
        /* Black overlay at 50% opacity */
        z-index: 1;
        /* Above the background image */
    }

    /* Make sure your content appears above the overlay */
    .hero-section>* {
        position: relative;
        z-index: 2;
        /* Above the overlay */
    }

    .hero-section .upper-half {
        height: 40%;
        /* border: red 2px solid; */
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        padding: 5%;
        row-gap: 5%;
    }

    .mid-city-heading {
        /* Default for mobile */
        font-family: 'Michroma', sans-serif;
        font-size: 0.8em;
        text-transform: uppercase;
        padding-top: 10%;

        /* Gradient text */
        /* color: var(--color-text-tertiary); */
        color: white;
        /* background: var(--gradient-text);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text; */

        text-wrap: wrap;
        text-align: center;
    }

    /* For Tablets & Desktops*/
    @media (min-width: 768px) {
        .mid-city-heading {
            padding-top: 5%;
            font-size: 1.1em;
        }
    }

    .hero-section .middle-half {
        height: 50%;
        /* border: red 2px solid; */
        position: relative;
        padding-bottom: 3%;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        row-gap: 5%;
    }

    .hero-section .middle-half::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url('https://mid-city-engineering.odoo.com/web/image/9100-b6837261/modelock-hero-background.webp');
        background-size: 100% auto;
        background-repeat: no-repeat;
        background-position: center bottom;
        filter: grayscale(100%);
        opacity: 0.1;
        z-index: 0;
        /* Behind the content */
    }

    /* Responsive Height for mode-lock title image */

    .modelock-title {
        /* Default for mobile */
        max-width: 80%;
        margin-top: -6.25%;
        filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.25)) brightness(1.7) saturate(1.5);
    }

    /* Response ModeLock Title styling */

    /* For Tablets */
    @media (min-width: 768px) {
        .modelock-title {
            max-width: 60%;
        }
    }

    /* For iPad Pro and similar devices */
    @media (min-width: 1024px) {
        .modelock-title {
            max-width: 50%;
        }
    }

    /* For Desktops */
    @media (min-width: 1200px) {
        .modelock-title {
            max-width: 40%;
        }
    }

    .tagline {
        font-family: 'Jura', sans-serif-rounded;
        /* color: var(--color-text-tertiary); */
        color: white;
        font-size: 1em;
        max-width: 70vw;

        text-wrap: wrap;
        text-align: center;
    }

    .hero-section .hero-footer {
        height: 10%;
        /* border: red 2px solid; */
        padding: 1%;

        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    /* Scroll indicator arrow */
    .scroll-indicator {
        color: white;
        /* var(--color-bg-secondary); */
        bottom: var(--spacing-md);
        animation: scrollBounce 2s ease-in-out infinite;
        font-size: var(--font-size-xl);
        opacity: 0.75;
        z-index: 100;
        /* text-shadow: var(--text-shadow-glow-dark-red);*/
        filter: drop-shadow(0 0 5px rgba(246, 218, 42, 0.75));
        text-decoration: none;
        cursor: pointer;
        transition: var(--transition-fast);
    }

    .scroll-indicator:hover {
        opacity: 1;
        transform: translateX(-50%) scale(1.6);
        animation-play-state: paused;
    }

    @keyframes scrollBounce {

        0%,
        100% {
            transform: translateX(-50%) translateY(0);
        }

        50% {
            transform: translateX(-50%) translateY(10px);
        }
    }
</style>

<!-- Hero Section HTML -->
<section class="hero-section">

    <div class="upper-half">
        <h3 class="mid-city-heading">MID CITY ENGINEERING PRESENTS</h3>
    </div>

    <div class="middle-half">
        <img class="modelock-title" src="https://mid-city-engineering.odoo.com/web/image/9252-4760674a/ModeLock-TM.png"
            alt="ModeLock TM">
        <h3 class="tagline">Your Porsche. Your Preferences. Every Time</h3>
    </div>

    <div class="hero-footer">
        <a href="#solution" class="scroll-indicator" aria-label="Scroll down to continue">â†“</a>
    </div>

</section>


<!-- Section-specific JavaScript -->
<script>
    // Paste parallax.js content here
    (function () {
        const layers = {
            midCity: { element: document.querySelector('.mid-city-heading'), speed: 0.3 },
            modelock: { element: document.querySelector('.modelock-title'), speed: 0.4 },
            subtitle: { element: document.querySelector('.tagline'), speed: 0.5 },
            // car: { element: document.querySelector('."middle-half'), speed: 0.5 }
        };

        const hasElements = Object.values(layers).some(layer => layer.element !== null);

        if (hasElements) {
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;

                // Apply parallax to each layer
                Object.values(layers).forEach(layer => {
                    if (layer.element) {
                        // Add parallax translateY
                        layer.element.style.transform = `translateY(${scrolled * layer.speed}px)`;
                    }
                });
            });
        }
    })();

    // Paste smooth-scroll.js content here
    (function () {

        // Add smooth scrolling to all anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

    })();

    // Paste fade-out-on-scroll.js content here
    (function () {
        const tagline = document.querySelector('.tagline');
        const heroSection = document.querySelector('.hero-section');

        if (tagline && heroSection) {
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                const heroHeight = heroSection.offsetHeight;

                // Start fading at 15% scroll, complete at 75%
                const fadeStart = heroHeight * 0.15;
                const fadeEnd = heroHeight * 0.75;
                const fadeRange = fadeEnd - fadeStart;

                const opacity = scrolled < fadeStart ? 1 :
                    scrolled > fadeEnd ? 0 :
                        1 - ((scrolled - fadeStart) / fadeRange);

                tagline.style.opacity = opacity;
            });
        }
    })();

</script>
