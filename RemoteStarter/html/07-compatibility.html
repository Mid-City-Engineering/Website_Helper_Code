<!--
==================================================
WIDGET: COMPATIBILITY SECTION
==================================================
Interactive vehicle selector (Make → Model → Year → Results)

Dependencies:
- 00-base-styles.html (MUST be loaded first)

CSS Used:
- css/sections/compatibility.css
- css/universal/section-titles.css (loaded via base-styles)

JS Used:
- js/vehicle-selector.js (interactive selector logic)

Data Source:
- Fetches vehicle compatibility data from Odoo documents endpoint
- JSON format with make, model, years, sku, productUrl fields

For Odoo Deployment:
- Update paths to your CDN/server URLs
- Update data fetch URL to your compatibility JSON endpoint
- Update help links and contact URLs
==================================================
-->

<!-- Section-specific CSS -->
<link rel="stylesheet" href="../css/sections/compatibility.css">

<!-- Compatibility Section HTML -->
<section class="compatibility-section" id="compatibility">
    <h2 class="universal-section-title">Find Your SmartKey Starter</h2>
    <p class="subtitle">Select your vehicle to view compatible products</p>

    <div class="selector-container">

        <!-- Loading State -->
        <div id="loading-state" class="selector-loading">
            Loading vehicle data...
        </div>

        <!-- Step 1: Make Selection -->
        <div id="make-step" class="selector-step selector-hidden">
            <h3 class="selector-step-title">Select Make</h3>
            <div class="selector-grid" id="make-grid">
                <!-- Dynamically populated by JS -->
            </div>
        </div>

        <!-- Step 2: Model Selection -->
        <div id="model-step" class="selector-step selector-hidden">
            <button class="selector-back-button" onclick="vehicleSelector.goToMake()">
                ← Back to makes
            </button>
            <h3 class="selector-step-title">Select Model</h3>
            <div class="selector-grid" id="model-grid">
                <!-- Dynamically populated by JS -->
            </div>
        </div>

        <!-- Step 3: Year Selection -->
        <div id="year-step" class="selector-step selector-hidden">
            <button class="selector-back-button" onclick="vehicleSelector.goToModel()">
                ← Back to models
            </button>
            <h3 class="selector-step-title">Select Year</h3>
            <div class="selector-grid" id="year-grid">
                <!-- Dynamically populated by JS -->
            </div>
        </div>

        <!-- Step 4: Results -->
        <div id="results-step" class="selector-step selector-hidden">
            <div class="selector-results-container">
                <div class="checkmark">✓</div>
                <h3>Vehicle Selected</h3>
                <p class="vehicle-name" id="selected-vehicle">--</p>
                <p class="sku-info">Compatible SmartKey Starter: <strong id="selected-sku">--</strong></p>
                <a href="#" id="product-link" class="view-product-btn" target="_blank">View Product Details →</a>
                <div class="start-over" onclick="vehicleSelector.reset()">
                    ← Start over
                </div>
            </div>
        </div>

    </div>

    <!-- Help Links -->
    <div class="selector-help-links">
        <span>Need help? <a href="#contact">Contact us</a> or <a
                href="https://s34657.pcdn.co/wp-content/uploads/2024/10/SKS-compatibility-09_24-PDF.pdf"
                target="_blank">download the full compatibility list (PDF)</a></span>
    </div>

</section>

<!-- Vehicle Selector JavaScript -->
<script src="../js/vehicle-selector.js"></script>
